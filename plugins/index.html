



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Journeyman is an opinionated CLI tool for Vue.js projects to generate code and automate common tasks.">
      
      
        <link rel="canonical" href="https://radiergummi.github.io/journeyman/plugins/">
      
      
        <meta name="author" content="Moritz Friedrich">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.4, mkdocs-material-2.9.1">
    
    
      
        <title>Plugins - Journeyman</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.ba0fd1a6.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
      
        
        
        <meta name="theme-color" content="#03a9f4">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="light-blue" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#plugins" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://radiergummi.github.io/journeyman" title="Journeyman" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Journeyman
              </span>
              <span class="md-header-nav__topic">
                Plugins
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/radiergummi/journeyman/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      radiergummi/journeyman
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

<nav class="md-tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href=".." title="Getting started" class="md-tabs__link md-tabs__link--active">
        Getting started
      </a>
    
  </li>

      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../api/Command/" title="Api" class="md-tabs__link">
          Api
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    Journeyman
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/radiergummi/journeyman/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      radiergummi/journeyman
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Plugins
      </label>
    
    <a href="./" title="Plugins" class="md-nav__link md-nav__link--active">
      Plugins
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#one-shot-plugins" title="One-Shot plugins" class="md-nav__link">
    One-Shot plugins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-app-parameter-to-your-command-methods" title="The app parameter to your command methods" class="md-nav__link">
    The app parameter to your command methods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-plugins" title="Advanced plugins" class="md-nav__link">
    Advanced plugins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#providing-new-commands-for-journeymans-existing-sub-commands" title="Providing new commands for journeyman's existing sub-commands" class="md-nav__link">
    Providing new commands for journeyman's existing sub-commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-metadata-fields" title="Plugin metadata fields" class="md-nav__link">
    Plugin metadata fields
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Api
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Api
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api/Command/" title="Command" class="md-nav__link">
      Command
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/Config/" title="Config" class="md-nav__link">
      Config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/ConfigValidationError/" title="ConfigValidationError" class="md-nav__link">
      ConfigValidationError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/ConfigValidationInvalidFieldError/" title="ConfigValidationInvalidFieldError" class="md-nav__link">
      ConfigValidationInvalidFieldError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/ConfigValidationMissingFieldError/" title="ConfigValidationMissingFieldError" class="md-nav__link">
      ConfigValidationMissingFieldError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/ConfigValidationTypeError/" title="ConfigValidationTypeError" class="md-nav__link">
      ConfigValidationTypeError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/ConfigValidationValidatorError/" title="ConfigValidationValidatorError" class="md-nav__link">
      ConfigValidationValidatorError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/Input/" title="Input" class="md-nav__link">
      Input
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/InvalidConfigFileError/" title="InvalidConfigFileError" class="md-nav__link">
      InvalidConfigFileError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/JourneyMan/" title="JourneyMan" class="md-nav__link">
      JourneyMan
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/Plugin/" title="Plugin" class="md-nav__link">
      Plugin
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/Schema/" title="Schema" class="md-nav__link">
      Schema
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#one-shot-plugins" title="One-Shot plugins" class="md-nav__link">
    One-Shot plugins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-app-parameter-to-your-command-methods" title="The app parameter to your command methods" class="md-nav__link">
    The app parameter to your command methods
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-plugins" title="Advanced plugins" class="md-nav__link">
    Advanced plugins
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#providing-new-commands-for-journeymans-existing-sub-commands" title="Providing new commands for journeyman's existing sub-commands" class="md-nav__link">
    Providing new commands for journeyman's existing sub-commands
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-metadata-fields" title="Plugin metadata fields" class="md-nav__link">
    Plugin metadata fields
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/radiergummi/journeyman/edit/master/docs/plugins.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="plugins">Plugins<a class="headerlink" href="#plugins" title="Permanent link">&para;</a></h1>
<p>Journeyman provides a few ways to add new functionality, that is: To add new, first-class citizen, commands to <code>journ</code>. In fact, <em>all</em> integrated commands are actually plugins.<br />
Plugins are special npm packages that must fulfill a few requirements:</p>
<ul>
<li><strong>Their package name starts with <code>journeyman-plugin-</code>:</strong><br />
   This serves to keep the npm namespace clean and make plugins more obvious. I can't stand packages like <code>body-parser</code> that are secretly <code>express.js</code> plugins.</li>
<li><strong>Their <code>package.json</code> file includes a <code>journeyman-plugin</code> key:</strong><br />
   This key provides plugin metadata. The available fields are outlined in <a href="#plugin-metadata-fields">Plugin metadata fields</a></li>
<li><strong>They export a class (<em>not an instance!</em>) from their main module that extends the base plugin:</strong><br />
   Journeyman provides a base class at <a href="../lib/Plugins/Plugin.js"><code>lib/plugins/Plugin</code></a> that all plugins need to inherit from. It provides several methods Journeyman uses to initialize the plugin and work with it's input and output. This frees implementations from caring about API compatibility and implementation details.</li>
</ul>
<p>Basically, a plugin provides a new subcommand to journeyman that all its methods are grouped below. A simple plugin might look like this:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="p">{</span> <span class="nx">Plugin</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;journeyman&#39;</span><span class="p">);</span>

<span class="kr">class</span> <span class="nx">EchoPlugin</span> <span class="kr">extends</span> <span class="nx">Plugin</span> <span class="p">{</span>

  <span class="cm">/**</span>
<span class="cm">   * The static property &quot;name&quot; is used as the subcommand namespace for your plugin</span>
<span class="cm">   */</span>
  <span class="kr">static</span> <span class="nx">get</span> <span class="nx">name</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;echo&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * This is a private method (as far as JS supports it, at least...). It will *not* be visible </span>
<span class="cm">   * nor accessible from the command line due to the single underscore prefix.</span>
<span class="cm">   */</span>
  <span class="nx">_prepareOutput</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;echo &#39;</span> <span class="o">+</span> <span class="nx">str</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * This is a public method (no leading underscore). It will be used as a publicly visible command below your</span>
<span class="cm">   * plugin namespace:</span>
<span class="cm">   * journ echo foo</span>
<span class="cm">   */</span>
  <span class="nx">foo</span><span class="p">(</span><span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">output</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_prepareOutput</span><span class="p">(</span><span class="nx">app</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">args</span><span class="p">);</span>

    <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="one-shot-plugins">One-Shot plugins<a class="headerlink" href="#one-shot-plugins" title="Permanent link">&para;</a></h2>
<p>If your plugin only serves a single purpose -- eg. it doesn't need multiple sub-commands -- you can use one-shot plugins. The only difference to ordinary plugins is that they include the special <code>__invoke</code> method: If a plugin provides it, journeyman assumes the plugin doesn't need a namespace and only has a single, public command, callable as <code>journ &lt;plugin name&gt; --params</code>. If journeyman finds the __invoke method  inside your plugin, it will disregard any other public methods. As ordinary command methods, <code>__invoke</code> receives the application instance as its only parameter.</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="p">{</span> <span class="nx">Plugin</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;journeyman&#39;</span><span class="p">);</span>

<span class="kr">class</span> <span class="nx">FooPlugin</span> <span class="kr">extends</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">get</span> <span class="nx">name</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * This is a special one: For single-shot plugins, you can use the __invoke method. </span>
<span class="cm">   */</span>
  <span class="nx">__invoke</span><span class="p">(</span><span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">output</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_prepareOutput</span><span class="p">(</span><span class="nx">app</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">args</span><span class="p">);</span>

    <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">output</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="the-app-parameter-to-your-command-methods">The <code>app</code> parameter to your command methods<a class="headerlink" href="#the-app-parameter-to-your-command-methods" title="Permanent link">&para;</a></h2>
<p><code>app</code> is an object with several well-defined properties revolving around the command execution lifecycle. It contains everything the command will need to carry out its purpose:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th>Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>journeyman</code></td>
<td><a href="../lib/JourneyMan.js"><code>JourneyMan</code></a></td>
<td align="left">The current <code>JourneyMan</code> instance.</td>
</tr>
<tr>
<td align="left"><code>env</code></td>
<td><code>Map&lt;k: String, v: String&gt;</code></td>
<td align="left">Holds all system environment variables.</td>
</tr>
<tr>
<td align="left"><code>input</code></td>
<td><a href="../lib/Console/Input.js"><code>Input</code></a></td>
<td align="left">Holds the command line input object.</td>
</tr>
<tr>
<td align="left"><code>output</code></td>
<td><a href="../lib/Console/Output.js"><code>Output</code></a></td>
<td align="left">Holds the command line output object.</td>
</tr>
<tr>
<td align="left"><code>plugins</code></td>
<td><code>Array&lt;Plugin&gt;</code></td>
<td align="left">Holds the list of available plugins. Alias to <a href="../lib/JourneyMan.js"><code>journeyman.plugins</code></a>.</td>
</tr>
<tr>
<td align="left"><code>call(command: String): Promise</code></td>
<td><code>function</code></td>
<td align="left">Allows to call other commands by their full command input string.</td>
</tr>
</tbody>
</table>
<blockquote>
<p>More properties and methods will be added as the development continues.</p>
</blockquote>
<h2 id="advanced-plugins">Advanced plugins<a class="headerlink" href="#advanced-plugins" title="Permanent link">&para;</a></h2>
<p>Single-class and one-shot plugins will be fine for most purposes. But what if you've got actual <em>work</em> to do? Fear not, for there's a third structural option: Instead of providing the individual commands as methods on your plugin, you can also provide a list of <a href="../lib/Console/Command.js"><code>Command</code></a> instances.<br />
This provides you with a belly of additional goodies, like automatic help generation, fine-grained parameter and option handling as well as neatly organized code.</p>
<p>A plugin using Command instances might look like this:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="p">{</span> <span class="nx">Plugin</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;journeyman&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">FooCommand</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./commands/FooCommand&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">BarCommand</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./commands/BarCommand&#39;</span><span class="p">);</span>

<span class="kr">class</span> <span class="nx">MyAdvancedPlugin</span> <span class="kr">extends</span> <span class="nx">Plugin</span> <span class="p">{</span>
  <span class="kr">static</span> <span class="nx">get</span> <span class="nx">name</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;advanced&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * This overrides the default of an empty array</span>
<span class="cm">   */</span>
  <span class="kr">static</span> <span class="nx">get</span> <span class="nx">commands</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span>
      <span class="nx">FooCommand</span><span class="p">,</span>
      <span class="nx">BarCommand</span>
    <span class="p">];</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * Of course, you&#39;re still free to define additional commands using methods</span>
<span class="cm">   */</span>
  <span class="nx">baz</span><span class="p">(</span><span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
  <span class="p">}</span>
<span class="p">}</span> 
</pre></div>


<p>A command class for our plugin, say <code>FooCommand</code>, should be constructed like this:</p>
<div class="codehilite"><pre><span></span><span class="kr">const</span> <span class="p">{</span> <span class="nx">Command</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;journeyman&#39;</span><span class="p">);</span>

<span class="kr">class</span> <span class="nx">FooCommand</span> <span class="kr">extends</span> <span class="nx">Command</span> <span class="p">{</span>

  <span class="cm">/**</span>
<span class="cm">   * Since we don&#39;t have a method name at our disposal, we can set it here. If omitted, </span>
<span class="cm">   * the name will be inferred from the class name ( Class.name.replace(&#39;Command&#39;, &#39;&#39;).toLowerCase() )</span>
<span class="cm">   */</span>
  <span class="kr">static</span> <span class="nx">get</span> <span class="nx">name</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;foo&#39;</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * The __configure() method is called on initialization and allows to configure the command (duh)</span>
<span class="cm">   */</span>
  <span class="nx">__configure</span><span class="p">()</span> <span class="p">{</span>

    <span class="c1">// a little Symfony-y</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setDescription</span><span class="p">(</span><span class="s1">&#39;Creates a new foo&#39;</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">addParameter</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;How to name your foo&#39;</span><span class="p">,</span> <span class="nx">Command</span><span class="p">.</span><span class="nx">PARAM_TYPE_STRING</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="cm">/**</span>
<span class="cm">   * The behaviour is the same as with plugin method commands here</span>
<span class="cm">   */</span>
  <span class="nx">__invoke</span><span class="p">(</span><span class="nx">app</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>That's a whole slew of new stuff, so be sure to check out the <a href="#commands">Command documentation</a>.</p>
<h2 id="providing-new-commands-for-journeymans-existing-sub-commands">Providing new commands for journeyman's existing sub-commands<a class="headerlink" href="#providing-new-commands-for-journeymans-existing-sub-commands" title="Permanent link">&para;</a></h2>
<p>That's all fine and dandy, but what if you'd like to provide a new <code>make &lt;something&gt;</code>? For these cases, you can extend the special <code>MakePlugin</code> class instead of <code>Plugin</code>. All commands provided in these will be appended to the <code>make</code> subcommand. Beneath <code>MakePlugin</code>, there's also <code>LinkPlugin</code>, <code>ServePlugin</code> and <code>BuildPlugin</code> to extend the respective verbs.</p>
<blockquote>
<p>More extend-plugins will be added as the development continues.</p>
</blockquote>
<h2 id="plugin-metadata-fields">Plugin metadata fields<a class="headerlink" href="#plugin-metadata-fields" title="Permanent link">&para;</a></h2>
<p>The following <code>package.json</code> properties of the <code>journeyman-plugin</code> key are recognized:</p>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th>Type</th>
<th align="left">Description</th>
<th align="right">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>name</code></td>
<td><code>String</code></td>
<td align="left">The plugins human-readable name. This will be used in the plugin list, for example. Defaults to the package name.</td>
<td align="right">No</td>
</tr>
<tr>
<td align="left"><code>defaults</code></td>
<td><code>Object</code></td>
<td align="left">Any default configuration you might need for your plugin. Defaults to an empty hash.</td>
<td align="right">No</td>
</tr>
</tbody>
</table>
<blockquote>
<p>More properties will be added as the development continues.</p>
</blockquote>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../configuration/" title="Configuration" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Configuration
              </span>
            </div>
          </a>
        
        
          <a href="../api/Command/" title="Command" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Command
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018 Moritz Friedrich
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/radiergummi" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.4",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>